<div ng-switch on="errorReceiveData" >
    <div class="alert alert-danger" role="alert" ng-switch-when=true>
        <strong>Oops!</strong> Данные из OData не получены!
    </div>
</div>
<div>
    <div>
        Выберите тип отчёта:
        <select ng-model="typeOfReport.selected"
                ng-options="item.description for item in typeOfReport track by item.id"></select>
    </div>

    <div>
        Выберите точку отбора :
        <select ng-model="equipmentlist.selected"
                ng-options="item.description for item in equipmentlist track by item.id"></select>
    </div>
    <button type="button" class="btn btn-primary" ng-click="getGasDataClick()">Получить данные</button>
    <button type="button" class="btn btn-primary" ng-click="getAllGasDataClick()">Получить все данные</button>
    <div>
        <div>
            Таблица:
            <input ng-model="selectedQueryTable" type="text">
        </div>
        <div>
            Запрос:
            <input ng-model="selectedQuery" type="text">
        </div>
        <button type="button" class="btn btn-primary" ng-click="getSelectedGasDataClick()">Получить выборочные данные</button>
    </div>
    <div>
        Отображать полные данные: <input type="checkbox" ng-model="showFullData"/>
    </div>
</div>

<div style="background: lightgoldenrodyellow;">
    <div>--- Debug data ---</div>
    <div></div>
    <div>
        Online data (now is <b>{{onlineData}}</b>): <input type="checkbox" ng-model="onlineData"/>
    </div>
    <div>Data is:{{ttt}}</div>
    <div>Equipment:{{equipmentlist.selected.id}} - {{equipmentlist.selected.description}}</div>
</div>


<div ng-switch on="typeOfReport.selected.id">
    <table class="table table-striped table-condensed text-center" ng-switch-when=0>
       <caption>Почасовой отчёт за сутки</caption>
        <!--<caption>{{typeOfReport.selected.description}}</caption>-->
      <thead>
       <tr>
        <th>Время</th>
        <th ng-if="showFullData">Давление (среднее за час)</th>
        <th ng-if="showFullData">Температура (средняя за час)</th>
        <th ng-if="showFullData">Концентрация (средняя за час)</th>
        <th>Потребление за час</th>
        <th>Суммарное потребление</th>
       </tr>
       <tr>
        <th>&nbsp;</th>
        <th ng-if="showFullData">PE1.1</th>
        <th ng-if="showFullData">TE1.1</th>
        <th ng-if="showFullData">QE1.1</th>
        <th>FE1.1</th>
        <th>сумма FE1.1</th>
       </tr>
      </thead>
      <tbody>
      <tr ng-repeat="data in dataDaily">
          <td>{{data.datetime}}</td>
          <td ng-if="showFullData">{{data.valPE}}</td>
          <td ng-if="showFullData">{{data.valTE}}</td>
          <td ng-if="showFullData">{{data.valQE}}</td>
          <td>{{data.val}}</td>
          <td>{{data.sumVal}}</td>
      </tr>
    </table>

    <table class="table table-striped table-condensed text-center" ng-switch-when=1>
        <caption>Посуточный отчёт за месяц</caption>
        <!--<caption>{{typeOfReport.selected.description}}</caption>-->
        <thead>
        <tr>
            <th>Время</th>
            <th ng-if="showFullData">Давление (среднее за час)</th>
            <th ng-if="showFullData">Температура (средняя за час)</th>
            <th ng-if="showFullData">Концентрация (средняя за час)</th>
            <th>Потребление за час</th>
            <th>Суммарное потребление</th>
        </tr>
        <tr>
            <th>&nbsp;</th>
            <th ng-if="showFullData">PE1.1</th>
            <th ng-if="showFullData">TE1.1</th>
            <th ng-if="showFullData">QE1.1</th>
            <th>FE1.1</th>
            <th>сумма FE1.1</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="data in dataMonth">
            <td>{{data.datetime}}</td>
            <td ng-if="showFullData">{{data.valPE}}</td>
            <td ng-if="showFullData">{{data.valTE}}</td>
            <td ng-if="showFullData">{{data.valQE}}</td>
            <td>{{data.val}}</td>
            <td>{{data.sumVal}}</td>
        </tr>
    </table>

    <table class="table table-striped table-condensed text-center" ng-switch-when=2>
        <caption>Помесячный отчёт за год</caption>
        <!--<caption>{{typeOfReport.selected.description}}</caption>-->
        <thead>
        <tr>
            <th>Время</th>
            <th ng-if="showFullData">Давление (среднее за час)</th>
            <th ng-if="showFullData">Температура (средняя за час)</th>
            <th ng-if="showFullData">Концентрация (средняя за час)</th>
            <th>Потребление за час</th>
            <th>Суммарное потребление</th>
        </tr>
        <tr>
            <th>&nbsp;</th>
            <th ng-if="showFullData">PE1.1</th>
            <th ng-if="showFullData">TE1.1</th>
            <th ng-if="showFullData">QE1.1</th>
            <th>FE1.1</th>
            <th>сумма FE1.1</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="data in dataYear">
            <td>{{data.datetime}}</td>
            <td ng-if="showFullData">{{data.valPE}}</td>
            <td ng-if="showFullData">{{data.valTE}}</td>
            <td ng-if="showFullData">{{data.valQE}}</td>
            <td>{{data.val}}</td>
            <td>{{data.sumVal}}</td>
        </tr>
    </table>
</div>
